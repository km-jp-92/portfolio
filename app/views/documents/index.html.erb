<h2 class="text-2xl font-bold mb-4">PDF一覧 / アップロード</h2>

<% if flash[:notice] %>
  <p class="text-green-600 mb-2"><%= flash[:notice] %></p>
<% end %>

<!-- アップロードフォーム -->
<%= form_with model: [@document_group, @document], data: { turbo: false }, html: { multipart: true } do |f| %>
  <div class="mb-2">
    <%= f.label :files, "PDFを選択（複数可）", class: "block mb-1" %>
    <%= f.file_field :files, multiple: true, accept: "application/pdf", class: "border rounded px-2 py-1" %>
  </div>
  <%= f.submit "アップロード", class: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" %>
<% end %>

<!-- PDF一覧 -->
<h3 class="text-xl font-semibold mb-2">アップロード済みPDF</h3>
<% if @documents.any? %>
  <ul class="list-disc pl-5">
    <% @documents.each do |doc| %>
      <li class="mb-1">
        <%= link_to doc.file.filename.to_s, url_for(doc.file), target: "_blank", class: "text-blue-500 underline" %>
        <%= link_to "削除", document_group_document_path(@document_group, doc), data: { turbo_method: :delete, turbo_confirm: "削除しますか？" }, class: "text-red-500 ml-2" %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>まだPDFはアップロードされていません。</p>
<% end %>
