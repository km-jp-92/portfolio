<!-- PDF.js CDN -->


<div class="max-w-4xl mx-auto mt-8 space-y-6">
  <!-- PDF選択セクション -->
  <div 
    data-controller="pdf-selector"
    data-pdf-selector-group-id-value="<%= @document_group.id %>"
    class="flex items-center justify-between bg-gray-100 p-4 rounded-lg shadow-sm"
  >
    <label for="pdf-select" class="text-gray-700 font-semibold">資料を選択：</label>

    <select 
      id="pdf-select"
      data-action="change->pdf-selector#change"
      class="border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
    >
      <option value="">選択してください</option>
      <% @document_group.documents.each do |doc| %>
        <option value="<%= doc.id %>" <%= "selected" if doc == @document %>>
          <%= doc.file.filename.to_s %>
        </option>
      <% end %>
    </select>
  </div>

  <!-- PDF表示セクション -->
  <div 
    data-controller="pdf-viewer"
    data-pdf-viewer-url-value="<%= url_for(@document.file) %>"
    class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md"
  >
    <canvas data-pdf-viewer-target="canvas" class="border shadow-md"></canvas>
  </div>
</div>
