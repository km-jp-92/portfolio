<div class="w-full mx-auto mt-8 space-y-6">
  <!-- PDF選択セクション -->
  <div 
    data-controller="pdf-selector"
    data-pdf-selector-group-id-value="<%= @document_group.id %>"
    class="flex items-center justify-between bg-gray-100 p-4 rounded-lg shadow-sm"
  >
    <label for="pdf-select" class="text-gray-700 font-semibold">資料を選択：</label>

    <select 
      id="pdf-select"
      data-action="change->pdf-selector#change"
      class="border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
    >
      <option value="">選択してください</option>
      <% @document_group.documents.each do |doc| %>
        <option value="<%= doc.id %>" <%= "selected" if doc == @document %>>
          <%= doc.file.filename.to_s %>
        </option>
      <% end %>
    </select>
  </div>

  <!-- PDF表示セクション（1ページずつ表示） -->
<div 
  data-controller="pdf-viewer"
  data-pdf-viewer-url-value="<%= url_for(@document.file) %>"
  class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md space-y-4 max-h-[85vh] overflow-hidden relative"
>
  <!-- ページコントロール -->
  <div class="flex items-center justify-center space-x-3 mb-2">
    <button data-action="click->pdf-viewer#prevPage" class="px-3 py-1 bg-gray-300 rounded hover:bg-gray-400">前のページ</button>
    <span>
      ページ 
      <span data-pdf-viewer-target="pageNumber">1</span> /
      <span data-pdf-viewer-target="totalPages">1</span>
    </span>
    <button data-action="click->pdf-viewer#nextPage" class="px-3 py-1 bg-gray-300 rounded hover:bg-gray-400">次のページ</button>
  </div>

  <!-- PDF描画エリア -->
  <div class="overflow-auto w-full h-full">
    <canvas data-pdf-viewer-target="canvas" class="border shadow-md block mx-auto"></canvas>
  </div>

  <!-- ズームボタン -->
  <div class="flex justify-center space-x-2 mt-3">
    <button data-action="click->pdf-viewer#zoomOut" class="px-3 py-2 bg-red-500 text-white rounded">縮小</button>
    <button data-action="click->pdf-viewer#zoomIn" class="px-3 py-2 bg-green-500 text-white rounded">拡大</button>
  </div>
</div>
